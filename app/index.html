<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>App - Francke AudioGuide-v2 Docs</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "App";
    var mkdocs_page_input_path = "app.md";
    var mkdocs_page_url = "/app/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Francke AudioGuide-v2 Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">App</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#software-struktur">Software Struktur</a></li>
                
                    <li><a class="toctree-l4" href="#react">React</a></li>
                
                    <li><a class="toctree-l4" href="#react-motion">React Motion</a></li>
                
            
                <li class="toctree-l3"><a href="#redux">Redux</a></li>
                
                    <li><a class="toctree-l4" href="#reducer">Reducer</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../data/">Data</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../BeaconSetup/">Beacon Setup</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../deploy/">How To Deploy</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../how_to_docs/">How To Docs</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../BeaconScan/">Beacon Scan</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Francke AudioGuide-v2 Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>App</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="software-struktur">Software Struktur</h1>
<h2 id="react">React</h2>
<p>React wird genutzt um das User Interface zu rendern. React nutzt dabei Komponenten (components):</p>
<p>Einzelne Komponenten sollten möglichst wenig bis keine Applikations-Logik bzw. State besitzen. Maximal States die notwendig zum Rendern des Interfaces sind bzw. verschiedene Zustände in denen sich das Interface befinden kann: Beispielsweise kann ein Menü auf- oder zugeklappt sein.</p>
<ul>
<li><a href="https://facebook.github.io/react/index.html">Dokumentation React</a></li>
<li><a href="https://egghead.io/lessons/react-react-in-7-minutes">Intro Video zu React / 7min</a></li>
</ul>
<p>Der Source Code der App befindet sich in <em>src/js</em></p>
<p>Die User Interface Komponenten befinden sich in <em>src/js/components</em></p>
<p>Die Haupt Komponente für die App befindet sich in <em>src/js/components/App.js</em></p>
<h2 id="react-motion">React Motion</h2>
<h1 id="_1"></h1>
<p>React Motion ist eine React Library und wird in der App größtenteils für die Animationen verwendet.</p>
<ul>
<li><a href="https://github.com/chenglou/react-motion">React Motion Doku auf Github</a></li>
</ul>
<p>Code Beispiel:</p>
<pre><code>var isActive = true;

render (
    &lt;Motion style={{
            alpha: spring(isActive ? 1 : 0)
        }}
    &gt;
    {
        ({ alpha }) =&gt;
            &lt;div style={{
                opacity: alpha
                }}&gt;
            Hallo Welt
            &lt;/div&gt;
    }
    &lt;/Motion&gt;
)
</code></pre>

<h2 id="redux">Redux</h2>
<p>Redux wird für die Logik und den App-State verwendet.
Redux wird in <em>src/js/client.js</em> und <em>src/js/store.js</em> initialisiert.</p>
<h3 id="reducer">Reducer</h3>
<p>Reducer werden in <em>src/js/reducers/index.js</em> initialisiert.
Reducer beinhalten die Logik für die Übersetzung einer "Action" in einen neuen "State".</p>
<p>Beispielsweise für die Action <code>SHOW_INFO</code> wird ein Payload mit einem Text String übergeben. Diese Action wird in infoReducers.js abgefangen und in einen neuen State übersetzt.</p>
<p><strong>ACHTUNG</strong>: Der State selbst ist immutable! Das heißt er bzw. die Referenz darf nicht direkt verändert werden. Es muss immer eine neue Kopie mit dem neuen State erzeugt werden! Dies geschieht in den meisten fällen durch die ES6 Abkürzung durch {... someObject} (Durch die drei Punkte werden die Daten des Objektes inline erweitert <a href="http://exploringjs.com/es6/ch_first-steps.html#_from-apply-to-the-spread-operator-">Mehr Informationen zu Spread Operatoren</a>). Wichtig ist auch, dass so von Kind-Objekten nicht automatisch Kopien erzeugt werden, sondern immernoch Referenzen auf das vorherige Objekt zeigen können.</p>
<p>Code Beispiel:</p>
<pre><code>export default function reducer(state={
    info: { active: false, text: &quot;&quot;}
}, action) {

    switch (action.type)
    {
        case &quot;HIDE_INFO&quot;:{
            return {...state, info:{
                active:false,
                text:&quot;&quot;
            }
        }};

        case &quot;SHOW_INFO&quot;:{
            const newInfoText = action.payload.text;
            return {...state, info:{ active: true, text: newInfoText }}
        }
    }

    return state
}
</code></pre>

<p>Genauso werden auch die Touren selektiert und die Kind-Elemente innerhalb einer Tour auf <code>active=true</code> oder <code>active=false</code> gesetzt. Die Logik hierfür wurde jedoch aus tourReducer.js herausgetrennt und in tourReducerUtil.js geschrieben.</p>
<ul>
<li><a href="https://github.com/reactjs/redux">Redux Doku auf Github</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../data/" class="btn btn-neutral float-right" title="Data">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../data/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
